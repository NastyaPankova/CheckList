networks:
  check_list_network:
    driver: bridge
    name: CheckListNet
services:
  api:
    build:
      context: C:\Users\Настя\source\repos\CheckList\CheckListSolution
      dockerfile: Systems/Api/Dockerfile
    depends_on:
      sqlserver:
        condition: service_started
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      CONNECTION_STRING_DATABASE: CheckListNet
      CONNECTION_STRING_HOST: sqlserver
      CONNECTION_STRING_PASSWORD: Passw(0)rd
      CONNECTION_STRING_USER: sa
    image: api
    networks:
      check_list_network: {}
    ports:
    - published: 20000
      target: 80
  identity:
    build:
      context: C:\Users\Настя\source\repos\CheckList\CheckListSolution
      dockerfile: Systems/Identity/Dockerfile
    depends_on:
      sqlserver:
        condition: service_started
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      IDENTITY_SERVER_CLIENT_ID: CheckListNet
      IDENTITY_SERVER_CLIENT_SECRET: '123456'
      IDENTITY_SERVER_URL: localhost:20002
    image: identity
    networks:
      check_list_network: {}
    ports:
    - published: 20001
      target: 80
  sqlserver:
    environment:
      ACCEPT_EULA: "Y"
      SA_PASSWORD: Passw(0)rd
    image: mcr.microsoft.com/mssql/server:2019-latest
    networks:
      check_list_network: {}
    ports:
    - published: 21433
      target: 1433
version: '3.4'